/**
 * Username flair effects (name-only variants).
 */
.flair{
  position: relative;
  display: inline-block;
  isolation: isolate;
}
.flair::before,
.flair::after{
  content: "";
  position: absolute;
  inset: -18px -16px;
  pointer-events: none;
  z-index: -1;
  opacity: 0;
}
@media (prefers-reduced-motion: reduce){
  .flair,
  .flair::before,
  .flair::after{
    animation: none !important;
  }
}

/* Gold sparkle */
.flair-gold{
  color: transparent;
  background-image: linear-gradient(120deg, #fff2b2 0%, #ffcf4d 18%, #fff6cc 33%, #ffd35a 48%, #fff2b2 60%, #ffcf4d 76%, #fff6cc 100%);
  background-size: 220% 100%;
  background-position: 0% 50%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 10px 18px rgba(0,0,0,.35));
  animation: flairGoldShimmer 2.4s linear infinite;
}
@keyframes flairGoldShimmer{
  0%{ background-position: 0% 50%; }
  100%{ background-position: 220% 50%; }
}
.flair-gold::before{
  opacity: .85;
  background:
    radial-gradient(circle at 15% 30%, rgba(255,255,255,.95), transparent 18%),
    radial-gradient(circle at 60% 20%, rgba(255,255,255,.85), transparent 14%),
    radial-gradient(circle at 82% 65%, rgba(255,255,255,.9), transparent 16%),
    radial-gradient(circle at 35% 75%, rgba(255,255,255,.8), transparent 14%),
    radial-gradient(circle at 48% 45%, rgba(255,255,255,.75), transparent 14%);
  filter: blur(.2px);
  mix-blend-mode: screen;
  animation: flairSparkleDrift 2.8s ease-in-out infinite;
  transform: rotate(0deg);
}
@keyframes flairSparkleDrift{
  0%{ transform: translate(-8px,-6px) rotate(-6deg); opacity: .2; }
  35%{ opacity: .95; }
  100%{ transform: translate(10px,8px) rotate(6deg); opacity: .15; }
}

/* Fire */
.flair-fire{
  color: transparent;
  background-image: linear-gradient(180deg, #fff3c6 0%, #ffd36b 18%, #ff7b2f 46%, #ff2a00 72%, #8a0d00 100%);
  background-size: 100% 250%;
  background-position: 50% 0%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 2px 0 rgba(0,0,0,.25)) drop-shadow(0 0 14px rgba(255,120,40,.35)) drop-shadow(0 0 22px rgba(255,40,0,.25));
  animation: flairFireLick 1.15s ease-in-out infinite;
}
@keyframes flairFireLick{
  0%{ background-position: 50% 0%; transform: translateY(0); }
  50%{ background-position: 50% 85%; transform: translateY(-1px); }
  100%{ background-position: 50% 0%; transform: translateY(0); }
}
.flair-fire::before{
  opacity: .9;
  inset: -28px -22px;
  background:
    radial-gradient(40px 55px at 20% 90%, rgba(255,140,0,.38), transparent 60%),
    radial-gradient(55px 70px at 45% 100%, rgba(255,40,0,.28), transparent 65%),
    radial-gradient(45px 60px at 70% 92%, rgba(255,220,120,.30), transparent 62%);
  filter: blur(10px);
  mix-blend-mode: screen;
  animation: flairHeatWave 1.4s ease-in-out infinite;
}
@keyframes flairHeatWave{
  0%{ transform: translateY(6px) scale(1); opacity: .35; }
  55%{ transform: translateY(-2px) scale(1.05); opacity: .9; }
  100%{ transform: translateY(6px) scale(1); opacity: .35; }
}

/* Hearts */
.flair-hearts{
  color: transparent;
  background-image: linear-gradient(90deg, #ffd6ef, #ff63b7, #ff2d6c);
  background-size: 180% 100%;
  background-position: 0% 50%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 0 14px rgba(255,70,160,.28));
  animation: flairHeartsSheen 2.2s ease-in-out infinite;
}
@keyframes flairHeartsSheen{
  0%{ background-position: 0% 50%; }
  50%{ background-position: 100% 50%; }
  100%{ background-position: 0% 50%; }
}

/* Laser */
.flair-laser{
  color: transparent;
  background-image: linear-gradient(90deg, #c7fffb 0%, #00ffe1 20%, #7b61ff 50%, #ff2ddf 85%, #c7fffb 100%);
  background-size: 220% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: flairLaserFlow 1.8s linear infinite;
  filter: drop-shadow(0 0 14px rgba(0,255,225,.22)) drop-shadow(0 0 16px rgba(255,45,223,.14));
}
@keyframes flairLaserFlow{
  0%{ background-position: 0% 50%; }
  100%{ background-position: 220% 50%; }
}
.flair-laser::before{
  opacity: .95;
  inset: -30px -40px;
  background:
    linear-gradient(135deg, transparent 0%, rgba(0,255,225,.0) 35%, rgba(0,255,225,.75) 48%, rgba(0,255,225,0) 62%, transparent 100%),
    linear-gradient(45deg, transparent 0%, rgba(255,45,223,.0) 38%, rgba(255,45,223,.75) 52%, rgba(255,45,223,0) 66%, transparent 100%),
    repeating-linear-gradient(180deg, rgba(255,255,255,.12) 0 1px, transparent 1px 7px);
  mix-blend-mode: screen;
  filter: blur(.2px);
  animation: flairLaserSweep 1.1s linear infinite;
}
@keyframes flairLaserSweep{
  0%{ transform: translateX(-18%) translateY(8%); opacity: .2; }
  35%{ opacity: .95; }
  100%{ transform: translateX(22%) translateY(-12%); opacity: .2; }
}

/* Nuke */
.flair-nuke{
  color: transparent;
  background-image: linear-gradient(90deg, #dbffb8, #6dff52, #00e676, #b1ff5b);
  background-size: 200% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 0 14px rgba(109,255,82,.28)) drop-shadow(0 0 30px rgba(0,230,118,.12));
  animation: flairNukeGlow 1.3s ease-in-out infinite;
}
@keyframes flairNukeGlow{
  0%{ background-position: 0% 50%; transform: translateY(0); }
  50%{ background-position: 100% 50%; transform: translateY(-1px); }
  100%{ background-position: 0% 50%; transform: translateY(0); }
}
.flair-nuke::before{
  opacity: .95;
  inset: -34px -22px;
  background:
    radial-gradient(70px 45px at 50% 50%, rgba(109,255,82,.45), transparent 70%),
    conic-gradient(from 0deg at 50% 50%, rgba(109,255,82,.0), rgba(109,255,82,.35), rgba(109,255,82,.0), rgba(109,255,82,.35), rgba(109,255,82,.0));
  filter: blur(10px);
  mix-blend-mode: screen;
  animation: flairNukePulse 1.2s ease-in-out infinite;
}
@keyframes flairNukePulse{
  0%{ transform: scale(.95); opacity: .25; }
  60%{ transform: scale(1.05); opacity: .85; }
  100%{ transform: scale(.95); opacity: .25; }
}
.flair-nuke::after{
  opacity: .9;
  inset: auto;
  width: 28px;
  height: 28px;
  right: -8px;
  top: -12px;
  background:
    radial-gradient(circle at 50% 50%, rgba(0,0,0,.35), rgba(0,0,0,.35)),
    conic-gradient(from 0deg, rgba(0,0,0,0) 0 15%, rgba(0,0,0,.55) 15% 30%, rgba(0,0,0,0) 30% 45%, rgba(0,0,0,.55) 45% 60%, rgba(0,0,0,0) 60% 75%, rgba(0,0,0,.55) 75% 90%, rgba(0,0,0,0) 90% 100%);
  border-radius: 50%;
  box-shadow: 0 0 18px rgba(109,255,82,.25);
  border: 1px solid rgba(255,255,255,.14);
  mix-blend-mode: screen;
  animation: flairWarnSpin 2.1s linear infinite;
}
@keyframes flairWarnSpin{
  to{ transform: rotate(360deg); }
}

/* Bubbles */
.flair-bubbles{
  color: transparent;
  background-image: linear-gradient(90deg, #c8f4ff, #45d4ff, #7b61ff, #c8f4ff);
  background-size: 220% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  filter: drop-shadow(0 0 14px rgba(69,212,255,.22));
  animation: flairBubbleSheen 2.4s ease-in-out infinite;
}
@keyframes flairBubbleSheen{
  0%{ background-position: 0% 50%; }
  50%{ background-position: 100% 50%; }
  100%{ background-position: 0% 50%; }
}

/* Glitch */
.flair-glitch{
  color: #e9efff;
  text-shadow:
    2px 0 rgba(0,255,255,.55),
    -2px 0 rgba(255,0,150,.55),
    0 10px 30px rgba(0,0,0,.45);
  position: relative;
}
.flair-glitch::before{
  opacity: .9;
  background: repeating-linear-gradient(180deg, rgba(255,255,255,.12) 0 1px, transparent 1px 5px);
  animation: flairScan 1.1s linear infinite;
  mix-blend-mode: overlay;
}
@keyframes flairScan{
  0%{ transform: translateY(-12px); }
  100%{ transform: translateY(12px); }
}
.flair-glitch::after{
  opacity: .9;
  inset: -8px -10px;
  background:
    linear-gradient(90deg, transparent 0 30%, rgba(255,255,255,.20) 40%, transparent 55%),
    linear-gradient(90deg, transparent 0 60%, rgba(0,255,255,.25) 70%, transparent 85%);
  mix-blend-mode: screen;
  animation: flairGlitchJump 1.8s steps(2) infinite;
}
@keyframes flairGlitchJump{
  0%, 100%{ transform: translate(0,0); opacity: .15; }
  20%{ transform: translate(2px,-1px); opacity: .55; }
  40%{ transform: translate(-2px,1px); opacity: .35; }
  60%{ transform: translate(3px,0); opacity: .6; }
  80%{ transform: translate(-1px,-2px); opacity: .28; }
}

/* Classic with rare surprise */
.flair-surprise{
  color: inherit;
  text-shadow: none;
  animation: flairSurprisePop 52s ease-in-out infinite;
}
@keyframes flairSurprisePop{
  0%, 96%, 100%{ transform: none; text-shadow: none; filter: none; }
  97%{ transform: translateY(-1px) scale(1.05) rotate(-0.5deg); text-shadow: 0 0 6px rgba(255,255,255,.25); }
  98%{ transform: translateY(1px) scale(1.18) rotate(0.8deg); text-shadow: 0 0 14px rgba(255,255,255,.55), 0 0 26px rgba(255,70,120,.35); }
  99%{ transform: none; text-shadow: none; filter: none; }
}
.flair-surprise::before{
  opacity: 0;
  background: radial-gradient(circle at 45% 40%, rgba(255,255,255,.35), transparent 55%);
  filter: blur(5px);
  animation: flairSurpriseFlash 52s ease-in-out infinite;
}
@keyframes flairSurpriseFlash{
  0%, 97%, 100%{ opacity: 0; }
  98%{ opacity: .35; }
  99%{ opacity: 0; }
}

/* Earthquake */
.flair-quake{
  color: #f7f5ff;
  text-shadow: 0 2px 10px rgba(0,0,0,.35);
  animation: flairQuake 2.6s ease-in-out infinite;
}
@keyframes flairQuake{
  0%, 75%, 100%{ transform: translate(0,0) rotate(0deg); }
  76%{ transform: translate(-1px, 1px) rotate(-0.6deg); }
  78%{ transform: translate(1px, -1px) rotate(0.6deg); }
  80%{ transform: translate(-2px, 0) rotate(-0.8deg); }
  82%{ transform: translate(2px, 1px) rotate(0.8deg); }
  84%{ transform: translate(0,0) rotate(0deg); }
}
.flair-quake::before{
  opacity: .6;
  inset: -26px -20px;
  background:
    radial-gradient(50px 20px at 20% 80%, rgba(255,255,255,.08), transparent 70%),
    radial-gradient(60px 24px at 70% 75%, rgba(255,255,255,.12), transparent 72%);
  filter: blur(6px);
  animation: flairQuakeDust 2.6s ease-in-out infinite;
}
@keyframes flairQuakeDust{
  0%, 75%, 100%{ transform: translateY(0); opacity: .15; }
  80%{ transform: translateY(-4px); opacity: .5; }
  86%{ transform: translateY(2px); opacity: .25; }
}

/* Flowers */
.flair-flowers{
  color: transparent;
  background-image: linear-gradient(110deg, #ffd2e8 0%, #ff6fa6 35%, #8be97c 60%, #ffd2e8 100%);
  background-size: 220% 100%;
  background-position: 0% 50%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 10px rgba(255,150,200,.25);
  animation: flairFlowerSheen 4.6s ease-in-out infinite;
}
@keyframes flairFlowerSheen{
  0%{ background-position: 0% 50%; }
  50%{ background-position: 100% 50%; }
  100%{ background-position: 0% 50%; }
}
.flair-flowers::before{
  opacity: .7;
  inset: -20px -18px;
  background:
    radial-gradient(circle at 12% 25%, rgba(255,214,240,.7) 0 6px, transparent 7px),
    radial-gradient(circle at 30% 70%, rgba(255,133,190,.6) 0 5px, transparent 6px),
    radial-gradient(circle at 70% 32%, rgba(156,255,180,.6) 0 6px, transparent 7px),
    radial-gradient(circle at 85% 65%, rgba(255,232,170,.7) 0 5px, transparent 6px);
  filter: blur(.5px);
  animation: flairPetalFloat 6.2s ease-in-out infinite;
}
@keyframes flairPetalFloat{
  0%{ transform: translate(-4px,-3px); }
  50%{ transform: translate(4px,3px); }
  100%{ transform: translate(-4px,-3px); }
}

/* Burnout */
.flair-burnout{
  color: transparent;
  background-image: linear-gradient(90deg, #f5f5f5 0%, #cfcfcf 35%, #ffb347 60%, #f5f5f5 100%);
  background-size: 220% 100%;
  background-position: 0% 50%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 2px 10px rgba(0,0,0,.45);
  animation: flairBurnoutHeat 1.8s ease-in-out infinite;
}
@keyframes flairBurnoutHeat{
  0%{ background-position: 0% 50%; filter: none; }
  50%{ background-position: 100% 50%; filter: drop-shadow(0 0 16px rgba(255,150,70,.35)); }
  100%{ background-position: 0% 50%; filter: none; }
}
.flair-burnout::before{
  opacity: .8;
  inset: -22px -28px;
  background: linear-gradient(90deg, rgba(255,255,255,.28), transparent 45%, rgba(0,0,0,0) 70%);
  filter: blur(10px);
  mix-blend-mode: screen;
  animation: flairBurnoutSmoke 1.8s ease-in-out infinite;
}
@keyframes flairBurnoutSmoke{
  0%{ transform: translateX(-6px); opacity: .15; }
  50%{ transform: translateX(6px); opacity: .55; }
  100%{ transform: translateX(-6px); opacity: .15; }
}
.flair-burnout::after{
  opacity: .8;
  inset: -18px -16px;
  background:
    radial-gradient(circle at 75% 30%, rgba(255,210,120,.7), transparent 45%),
    radial-gradient(circle at 85% 60%, rgba(255,130,70,.8), transparent 50%);
  filter: blur(.5px);
  animation: flairBurnoutSparks 0.9s ease-in-out infinite;
}
@keyframes flairBurnoutSparks{
  0%, 100%{ transform: translateX(0); opacity: .3; }
  50%{ transform: translateX(6px); opacity: .8; }
}

/* Strobe lights */
.flair-strobe{
  color: transparent;
  background-image: linear-gradient(90deg, #7ffcff 0%, #ff7be5 33%, #ffe66e 66%, #7ffcff 100%);
  background-size: 300% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 10px rgba(255,255,255,.25);
  animation: flairStrobe 0.55s steps(2, end) infinite;
}
@keyframes flairStrobe{
  0%{ background-position: 0% 50%; filter: saturate(1.2); }
  50%{ background-position: 100% 50%; filter: saturate(2); }
  100%{ background-position: 200% 50%; filter: saturate(1.2); }
}
.flair-strobe::before{
  opacity: .7;
  inset: -24px -18px;
  background:
    radial-gradient(circle at 20% 30%, rgba(255,255,255,.25), transparent 40%),
    radial-gradient(circle at 70% 70%, rgba(255,255,255,.18), transparent 42%);
  mix-blend-mode: screen;
  animation: flairStrobeGlow 0.55s steps(2, end) infinite;
}
@keyframes flairStrobeGlow{
  0%{ opacity: .15; }
  50%{ opacity: .6; }
  100%{ opacity: .2; }
}

/* Subwoofer */
.flair-subwoofer{
  color: #e7f6ff;
  text-shadow: 0 0 14px rgba(0,180,255,.35), 0 0 26px rgba(0,180,255,.2);
  animation: flairBassThump 0.8s ease-in-out infinite;
}
@keyframes flairBassThump{
  0%, 100%{ transform: scale(1); }
  50%{ transform: scale(1.08); }
}
.flair-subwoofer::before{
  opacity: .7;
  inset: -28px -26px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(0,180,255,.2), transparent 60%);
  filter: blur(6px);
  animation: flairBassWave 0.8s ease-in-out infinite;
}
@keyframes flairBassWave{
  0%{ transform: scale(.8); opacity: .15; }
  50%{ transform: scale(1.1); opacity: .5; }
  100%{ transform: scale(.8); opacity: .15; }
}

/* Speed lines */
.flair-speed{
  color: transparent;
  background-image: linear-gradient(90deg, #e9f4ff 0%, #9bd5ff 45%, #e9f4ff 100%);
  background-size: 200% 100%;
  background-position: 0% 50%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 6px 0 12px rgba(120,200,255,.25), -2px 0 6px rgba(255,255,255,.2);
  filter: drop-shadow(0 6px 12px rgba(0,0,0,.3));
  animation: flairSpeedFlow 1.2s linear infinite;
}
@keyframes flairSpeedFlow{
  0%{ background-position: 0% 50%; }
  100%{ background-position: 200% 50%; }
}
.flair-speed::before{
  opacity: .9;
  inset: -20px -30px;
  background: repeating-linear-gradient(90deg, rgba(255,255,255,.18) 0 4px, transparent 4px 12px);
  mix-blend-mode: screen;
  filter: blur(1px);
  animation: flairSpeedLines 0.7s linear infinite;
}
@keyframes flairSpeedLines{
  0%{ background-position: 0 50%; }
  100%{ background-position: 60px 50%; }
}
.flair-speed::after{
  opacity: .6;
  inset: -18px -36px;
  background: linear-gradient(90deg, rgba(255,255,255,.15), transparent 60%);
  filter: blur(6px);
  animation: flairSpeedBlur 0.9s linear infinite;
}
@keyframes flairSpeedBlur{
  0%{ transform: translateX(-8px); }
  100%{ transform: translateX(8px); }
}

/* Mini name */
.flair-mini{
  font-size: 0.6em;
  letter-spacing: .04em;
  line-height: 1.1;
  color: #dce4ff;
  text-shadow: 0 0 8px rgba(0,0,0,.35);
}

/* Smoke */
.flair-smoke{
  color: transparent;
  background-image: linear-gradient(90deg, #d8d8e2 0%, #9ea3b6 40%, #e6e9f2 70%, #b1b7c9 100%);
  background-size: 220% 100%;
  -webkit-background-clip: text;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 12px rgba(0,0,0,.45);
  animation: flairSmokeSheen 4.8s ease-in-out infinite;
}
@keyframes flairSmokeSheen{
  0%{ background-position: 0% 50%; }
  50%{ background-position: 100% 50%; }
  100%{ background-position: 0% 50%; }
}
.flair-smoke::before{
  opacity: .7;
  inset: -30px -26px;
  background:
    radial-gradient(40px 30px at 20% 70%, rgba(255,255,255,.14), transparent 70%),
    radial-gradient(60px 40px at 60% 40%, rgba(255,255,255,.12), transparent 70%),
    radial-gradient(50px 35px at 80% 70%, rgba(255,255,255,.10), transparent 70%);
  filter: blur(12px);
  animation: flairSmokeDrift 6s ease-in-out infinite;
}
@keyframes flairSmokeDrift{
  0%{ transform: translateX(-8px) translateY(2px); opacity: .15; }
  50%{ transform: translateX(8px) translateY(-2px); opacity: .6; }
  100%{ transform: translateX(-8px) translateY(2px); opacity: .2; }
}
